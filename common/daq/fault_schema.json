{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "required":["nodes"],
    "properties": {
        "nodes": {"type":"array", "items":{"$ref":"#/$defs/node"}}
    },
    "$defs":{
        "node":{
            "type":"object",
            "required":["node_name", "faults"],
            "properties":{
                "node_name":{"type":"string", "description":"The name of the node"},
                "faults":{
                    "type":"array",
                    "description":"The faults that this node can produce",
                    "items":{"$ref":"#/$defs/fault"}
                }
            }
        },
        "fault":{
            "type":"object",
            "required":["name", "class", "msg"],
            "properties":{
                "name":{"type":"string", "description":"The name of the fault"},
                "class":{"type":"string", "description":"The classification / significance level of the fault"},
                "msg":{"type":"string", "description":"The msg to display when the fault is triggered"}
            }
        }
    }
}